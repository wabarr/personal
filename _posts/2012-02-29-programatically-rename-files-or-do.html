---
layout: post
title: Programatically rename files (or do other stuff to them) in R
date: '2012-02-29T10:00:00.001-06:00'
author: Andrew Barr
tags:
- R Tips
modified_time: '2013-02-07T09:29:20.658-06:00'
blogger_id: tag:blogger.com,1999:blog-9204176314411862946.post-1913309209301516757
blogger_orig_url: http://www.ancienteco.com/2012/02/programatically-rename-files-or-do.html
---

<div dir="ltr" style="text-align: left;" trbidi="on"><div style="font-family: &quot;Courier New&quot;,Courier,monospace;"><span style="font-family: Times,&quot;Times New Roman&quot;,serif;">In order to do something to a bunch of files at once, we first need a vector which contains the file paths of just the files we are interested in. </span><br /><br />startingDir&lt;-"/myDirectory"</div><div style="font-family: &quot;Courier New&quot;,Courier,monospace;"></div><div style="font-family: &quot;Courier New&quot;,Courier,monospace;">filez&lt;-list.files(startingDir,pattern="searchPattern")</div><br /><div style="font-family: &quot;Courier New&quot;,Courier,monospace;">head(filez)<br />[1] "/myDirectory/xxxFile1.txt"<br />[2] "/myDirectory/xxxFile2.txt"<br />[3] "/myDirectory/xxxFile3.txt"<br />[4] "/myDirectory/xxxFile4.txt"<br />[5] "/myDirectory/xxxFile5.txt"<br />[6] "/myDirectory/xxxFile6.txt"<br /><br /></div><div style="text-align: justify;">Once you have a vector that consists of a bunch of file paths, you  can do useful stuff with it, like renaming files in a consistent way. I  can use sapply() to apply a function to every element of a vector.&nbsp; For  example, I can use the file.rename() function along with the sub()  function to change the filename. </div><br /><div style="font-family: &quot;Courier New&quot;,Courier,monospace;">sapply(filez,FUN=function(eachPath){</div><div style="font-family: &quot;Courier New&quot;,Courier,monospace;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; file.rename(from=eachPath,to=sub(pattern="xxx",replacement="newTextString",eachPath))</div><span style="font-family: &quot;Courier New&quot;,Courier,monospace;">})</span><br /><br /><div style="text-align: justify;">If you aren't familiar with sapply(), I highly recommend you take a moment to study up on how it works.&nbsp; Using the apply() family of functions is really important to being productive in R.&nbsp; Now my filenames look like this.</div><div style="font-family: &quot;Courier New&quot;,Courier,monospace;"><br /></div><span style="font-family: &quot;Courier New&quot;,Courier,monospace;">[1] "/myDirectory/NewTextStringFile1.txt"<br />[2] "/myDirectory/NewTextStringFile2.txt"<br />[3] "/myDirectory/NewTextStringFile3.txt"<br />[4] "/myDirectory/NewTextStringFile4.txt"<br />[5] "/myDirectory/NewTextStringFile5.txt"<br />[6] "/myDirectory/NewTextStringFile6.txt"</span><br /><br />This is a whole lot faster and less error prone than trying to rename 500 files by hand.&nbsp; Just type <span style="font-family: &quot;Courier New&quot;,Courier,monospace;">?files </span>for a list of other file functions that might be useful, like <span style="font-family: &quot;Courier New&quot;,Courier,monospace;">file.move()</span> and <span style="font-family: &quot;Courier New&quot;,Courier,monospace;">unlink()</span>.&nbsp; Be careful with <span style="font-family: &quot;Courier New&quot;,Courier,monospace;">unlink()</span>....it will delete files from your machine!</div>